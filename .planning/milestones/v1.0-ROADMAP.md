# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-02-01  
**Phases:** 1-5  
**Total Plans:** 31

## Overview

Ship is a background agent platform where AI agents autonomously work on coding tasks in isolated sandboxes. The v1.0 milestone delivers a complete MVP with authentication, session management, agent execution, real-time UI, and external integrations. The roadmap follows a five-phase structure matching the architecture's natural dependency layers: authentication and database foundations, then stateful Durable Objects core, execution layer with E2B sandboxes and OpenCode agents, real-time UI via WebSockets, and finally external integrations with GitHub, Linear, and Vercel.

## Phases

### Phase 1: Foundation & Authentication

**Goal**: User can authenticate with GitHub and access the application with persistent sessions  
**Depends on**: Nothing (first phase)  
**Requirements**: AUTH-01, AUTH-02, AUTH-03  
**Plans**: 5 plans in 3 waves

**Success Criteria:**
1. User can sign in with GitHub OAuth and is redirected to authenticated application
2. User session persists across browser restarts and tab closures
3. Application has access to configured LLM API keys for agent operations

**Plans:**
- [x] 01-01-PLAN.md — Scaffold Turborepo monorepo with Next.js web app and Cloudflare Worker API
- [x] 01-02-PLAN.md — Set up D1 database schema and user management API
- [x] 01-03-PLAN.md — Implement GitHub OAuth flow with Arctic and JWT session management
- [x] 01-04-PLAN.md — Create login, onboarding, and dashboard pages with theme support
- [x] 01-05-PLAN.md — Configure LLM API keys and finalize environment setup

**Delivered:**
- Turborepo monorepo with Next.js 16 + Cloudflare Worker API
- D1 database with users/accounts/sessions tables
- GitHub OAuth flow with Arctic and jose JWT sessions
- Login, onboarding, and dashboard pages
- Theme system (light default)
- Environment configuration with LLM API key setup

### Phase 2: Stateful Core

**Goal**: Sessions exist as stateful entities that persist conversations, tasks, and real-time updates  
**Depends on**: Phase 1  
**Requirements**: SESS-01, SESS-02, SESS-03, SESS-04, SESS-05, SESS-06, SESS-07  
**Plans**: 7 plans in 6 waves

**Success Criteria:**
1. User can create a new session and it appears in session list
2. User can chat with agent in a session and messages persist across page reloads
3. User can create tasks from chat messages and tasks appear in session
4. Session state survives Durable Object hibernation and wakes correctly
5. User sees real-time status updates when agent is working (via WebSocket)
6. User can add multiple tasks to one session and tasks execute in order

**Plans:**
- [x] 02-01-PLAN.md — Create SessionDO Durable Object with SQLite schema and bindings
- [x] 02-02-PLAN.md — Implement session CRUD API and session list UI
- [x] 02-03-PLAN.md — Add WebSocket Hibernation support for real-time updates
- [x] 02-04-PLAN.md — Create chat API with message persistence in DO
- [x] 02-05-PLAN.md — Build chat UI with streaming and real-time WebSocket integration
- [x] 02-06-PLAN.md — Integrate OpenCode SDK for agent execution and task system
- [x] 02-07-PLAN.md — Add session side panel, status indicators, and verify phase

**Delivered:**
- SessionDO Durable Object with SQLite storage
- Session CRUD API and session list UI
- WebSocket hibernation for real-time updates
- Chat API with message persistence
- Chat UI with SSE streaming and WebSocket integration
- OpenCode SDK integration for agent execution
- Session side panel with status indicators

### Phase 3: Execution Layer

**Goal**: Agent autonomously executes multi-step coding tasks in isolated sandboxes with full Git workflow  
**Depends on**: Phase 2  
**Requirements**: SAND-01, SAND-02, SAND-03, SAND-04, SAND-05, GIT-01, GIT-02, GIT-03, GIT-04, GIT-05, AGNT-01, AGNT-02, AGNT-03  
**Plans**: 7 plans in 4 waves

**Success Criteria:**
1. System provisions an E2B sandbox when user creates a session
2. User can access VS Code editor and terminal in the sandbox
3. Agent can clone a repository, create a branch, make changes, commit, and push autonomously
4. Agent can create GitHub pull requests with description and link to issue
5. Agent handles errors during task execution and recovers gracefully without manual intervention
6. Agent understands codebase context and makes relevant changes across multiple files
7. User can select which AI model (Claude, GPT, Gemini) to use for tasks

**Plans:**
- [x] 03-01-PLAN.md — E2B Sandbox provisioning and SessionDO lifecycle integration
- [x] 03-02-PLAN.md — VS Code and Terminal access with inline drawer UI
- [x] 03-03-PLAN.md — Git workflow utilities (clone, branch, commit, push)
- [x] 03-04-PLAN.md — GitHub PR automation and PR panel in side panel
- [x] 03-05-PLAN.md — AI model selection with global preference and session override
- [x] 03-06-PLAN.md — Error handling with classification and automatic recovery
- [x] 03-07-PLAN.md — End-to-end integration and complete verification checkpoint

**Delivered:**
- E2B sandbox provisioning with auto-pause (5-minute timeout)
- VS Code and Terminal access via inline drawers
- Git workflow utilities (clone, branch, commit, push)
- GitHub PR automation with draft PR creation
- AI model selection with user preferences
- Error handling with classification and retry logic
- End-to-end agent execution flow

### Phase 4: Real-Time UI & Visibility

**Goal**: User has full visibility into agent work through real-time chat, code viewer, and terminal output  
**Depends on**: Phase 3  
**Requirements**: UI-01, UI-02, UI-03, UI-04, UI-05, GIT-06, AGNT-04  
**Plans**: 6 plans in 2 waves

**Success Criteria:**
1. Chat interface matches Ramp Inspect design with clean layout and visual polish
2. User can view all past sessions and resume or delete any session
3. User sees real-time status indicators showing agent's current state (planning, executing, stuck)
4. User can view code changes the agent made in real-time as they happen
5. User can view terminal output from agent commands as they execute
6. User can view Git diffs showing what changed in the codebase
7. User sees cost breakdown per task after completion

**Plans:**
- [x] 04-01-PLAN.md — Code viewer component with Monaco Editor integration
- [x] 04-02-PLAN.md — Git diff viewer component and session panel integration
- [x] 04-03-PLAN.md — Cost tracking and display system
- [x] 04-04-PLAN.md — Enhanced chat interface with Ramp design
- [x] 04-05-PLAN.md — Enhanced session list with Ramp design
- [x] 04-06-PLAN.md — Real-time status indicators enhancement

**Delivered:**
- Monaco Editor code viewer component
- Git diff viewer component
- Cost tracking and display system
- Enhanced chat interface matching Ramp design
- Enhanced session list with Ramp design
- Real-time status indicators with animations

### Phase 5: External Integrations

**Goal**: Agent can sync with Linear for task management and integrate with Vercel for deployments  
**Depends on**: Phase 4  
**Requirements**: INTG-01, INTG-02, INTG-03, INTG-04, INTG-05, INTG-06  
**Plans**: 6 plans in 3 waves

**Success Criteria:**
1. User can explicitly link Linear issues to sessions and optionally sync to create tasks
2. Agent updates Linear issue status when tasks complete or fail, but ONLY when Linear issue is explicitly linked
3. Agent can create new Linear issues when user asks or when discovering bugs
4. System links GitHub PRs to Linear issues ONLY when Linear issue is explicitly linked to session
5. User can access Vercel deployment tools via MCP in chat (preview, deploy, logs)
6. User can enable or disable GitHub/Linear/Vercel connectors in settings

**Plans:**
- [x] 05-01-PLAN.md — Linear OAuth and API client integration
- [x] 05-02-PLAN.md — Linear issue linking and manual sync
- [x] 05-03-PLAN.md — Linear issue status updates from agent
- [x] 05-04-PLAN.md — GitHub PR to Linear issue linking
- [x] 05-05-PLAN.md — Vercel MCP server for deployment tools
- [x] 05-06-PLAN.md — Connector management UI and API

**Delivered:**
- Linear OAuth flow and API client
- Linear issue linking (explicit, user-controlled)
- Conditional Linear status updates (only when linked)
- GitHub PR to Linear linking (conditional)
- Vercel MCP server structure (ready for SDK support)
- Connector management UI in settings

## Milestone Summary

**Key Accomplishments:**

1. **Complete Authentication System** — GitHub OAuth with persistent JWT sessions, user management, and secure API key configuration
2. **Stateful Session Management** — Durable Objects with SQLite storage, WebSocket hibernation, and real-time updates
3. **Autonomous Agent Execution** — E2B sandboxes, OpenCode SDK integration, full Git workflow automation, and error recovery
4. **Real-Time Visibility** — Code viewer, diff viewer, cost tracking, and enhanced UI matching Ramp design
5. **External Integrations** — Linear OAuth and conditional updates, GitHub PR linking, Vercel MCP structure, and connector management

**Key Decisions:**

- **Architecture:** One Durable Object per session (not global singleton) to avoid bottlenecks
- **Sandbox Lifecycle:** 5-minute idle timeout from day one for cost control
- **Linear Integration:** Explicit user linking only (no automatic syncing)
- **Git Workflow:** User's GitHub token for all operations, never stored in sandbox
- **Error Handling:** Four categories (transient, persistent, user-action, fatal) with exponential backoff retry
- **UI Design:** Ramp Inspect design patterns throughout (clean cards, subtle borders, modern typography)

**Issues Resolved:**

- Context overflow prevention with milestone archiving
- Phase numbering clarity (integer vs decimal phases)
- Cross-phase integration verification
- Conditional Linear updates (respects user preference)

**Issues Deferred:**

- Linear issue creation from agent (requires OpenCode SDK custom tool support)
- Vercel MCP full integration (requires OpenCode SDK MCP support)
- GitHub webhook handler (PR linking works synchronously, sufficient for v1)
- Formal verification for Phases 2-5 (code exists, needs verification reports)

**Technical Debt Incurred:**

- OAuth tokens stored plaintext (encryption recommended for production)
- Phases 2-5 lack VERIFICATION.md files (code verified but not formally documented)
- E2B sandbox cost monitoring not implemented
- Human verification needed for OAuth flow and session persistence

**Stats:**

- **Phases:** 5 (1-5)
- **Plans:** 31 total
- **Files:** 106 files changed, 17,647 insertions(+), 432 deletions(-)
- **Timeline:** ~9 days (2026-01-23 → 2026-02-01)
- **Execution Time:** 2.25 hours total

---

_For current project status, see .planning/ROADMAP.md (fresh for next milestone)_
